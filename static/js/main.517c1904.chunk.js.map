{"version":3,"sources":["utils/apis.ts","utils/uniqBy.ts","components/Filter/index.ts","components/List/index.ts","components/Home/Home.tsx","components/Filter/Filter.tsx","components/List/List.tsx","components/Card/Card.tsx","components/List/List.hooks.ts","components/Filter/Filter.hooks.ts","components/Home/index.ts","components/Card/index.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["fetchContentfulSpaceData","query","fetch","process","method","headers","Authorization","body","JSON","stringify","uniqBy","arr","key","seen","Set","filter","item","k","has","add","Home","TabPanel","props","children","value","index","other","role","hidden","id","aria-labelledby","sx","p","Filter","React","useState","setValue","useFilter","isLoading","errorMsg","data","length","categories","type","width","bgcolor","onChange","event","newValue","variant","scrollButtons","allowScrollButtonsMobile","aria-label","centered","map","label","List","useList","constructQuery","description","title","url","image","CardItem","component","height","alt","gutterBottom","color","setIsLoading","setErrorMsg","setData","fetchListData","a","res","json","items","dataset2Collection","message","useEffect","fetchFilterData","App","className","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.517c1904.chunk.js","sourcesContent":["export const fetchContentfulSpaceData = (query: string) =>\n  fetch(\n    `${process.env.REACT_APP_CONTENTFUL_API_URL}content/v1/spaces/${process.env.REACT_APP_CONTENTFUL_API_SPACE_ID}`,\n    {\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${process.env.REACT_APP_CONTENTFUL_API_TOKEN}`,\n      },\n      body: JSON.stringify({ query }),\n    }\n  );\n","export function uniqBy<T extends Object>(\n    arr: T[],\n    key: (item: T) => T[keyof T]\n  ) {\n    const seen = new Set();\n    return arr.filter((item) => {\n      const k = key(item);\n      return seen.has(k) ? false : seen.add(k);\n    });\n  }\n  ","export { default as Filter } from \"./Filter\";\nexport * from \"./Filter.hooks\";\nexport * from \"./Filter.types\";\n","export { default as List } from \"./List\";\n\nexport * from \"./List.hooks\";\nexport * from \"./List.types\";\n","import { Filter } from \"../Filter\";\nconst Home = () => {\n  return <Filter />;\n};\nexport default Home;\n","import React from \"react\";\nimport Box from \"@mui/material/Box\";\nimport Tabs from \"@mui/material/Tabs\";\nimport Tab from \"@mui/material/Tab\";\nimport Typography from \"@mui/material/Typography\";\nimport { useFilter } from \".\";\nimport { List } from \"../List\";\nimport { uniqBy } from \"../../utils\";\n\nfunction TabPanel(props: {\n  [x: string]: any;\n  children: any;\n  value: any;\n  index: any;\n}) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box sx={{ p: 3 }}>\n          <Typography>{children}</Typography>\n        </Box>\n      )}\n    </div>\n  );\n}\n\nconst filterQuery = `\n  {\n      dataset2Collection{\n          items{\n          type\n          }\n      }\n  }`;\n\nconst Filter = () => {\n  const [value, setValue] = React.useState(0);\n\n  const { isLoading, errorMsg, data } = useFilter(filterQuery);\n\n  const handleChange = (event: any, newValue: React.SetStateAction<number>) => {\n    setValue(newValue);\n  };\n\n  if (isLoading) {\n    return <p>Loading...</p>;\n  }\n\n  if (errorMsg !== \"\") {\n    return <p>{errorMsg}</p>;\n  }\n\n  if (data.length === 0) {\n    return <h1>No Data Found.</h1>;\n  }\n\n  const categories = uniqBy(data, (item) => item.type);\n\n  return (\n    <Box sx={{ width: \"100%\", bgcolor: \"background.paper\" }}>\n      <Tabs\n        value={value}\n        onChange={handleChange}\n        variant=\"scrollable\"\n        scrollButtons\n        allowScrollButtonsMobile\n        aria-label=\"scrollable filter tabs\"\n        centered\n      >\n        {categories.map(({ type, id }) => (\n          <Tab label={type} key={id} />\n        ))}\n      </Tabs>\n\n      {categories.map(({ type, id }, index) => (\n        <TabPanel value={value} index={index} key={id}>\n          <List type={type} />\n        </TabPanel>\n      ))}\n    </Box>\n  );\n};\n\nexport default Filter;\n","import { useList, ListProps } from \".\";\nimport {Card} from '../Card'\nimport './List.styles.css';\n\nconst constructQuery = (type: string) => `\n{\n    dataset2Collection(where:{\n      type: \"${type}\"\n    }) {\n      items{\n        type,\n        title,\n        description,\n        id,\n        image {\n         url\n        }\n      }\n    }\n  }\n`;\n\nconst List = (props: ListProps) => {\n  const { type } = props;\n\n  const { isLoading, errorMsg, data } = useList(constructQuery(type));\n\n  if (isLoading) {\n    return <p>Loading...</p>;\n  }\n\n  if (errorMsg !== \"\") {\n    return <p>{errorMsg}</p>;\n  }\n\n  if (data.length === 0) {\n    return <h1>No Data Found.</h1>;\n  }\n\n  return (\n    <ul>\n      {data.map(({ id, ...other }) => (\n        <li key={id}><Card description={other.description} id={id} title={other.title} url={other.image? other.image.url : 'http://lorempixel.com/400/200/sports/1/'} /></li>\n      ))}\n    </ul>\n  );\n};\n\nexport default List;\n","import Card from \"@mui/material/Card\";\nimport CardContent from \"@mui/material/CardContent\";\nimport CardMedia from \"@mui/material/CardMedia\";\nimport Typography from \"@mui/material/Typography\";\nimport { CardActionArea } from \"@mui/material\";\nimport { CardProps } from \"./\";\n\nconst CardItem = (props: CardProps) => {\n  const { id, url, title, description } = props;\n\n  return (\n    <Card id={id}>\n      <CardActionArea>\n        <CardMedia component=\"img\" height=\"140\" image={url} alt={title} />\n        <CardContent>\n          <Typography gutterBottom variant=\"h5\" component=\"div\">\n            {title}\n          </Typography>\n          <Typography variant=\"body2\" color=\"text.secondary\">\n            {description}\n          </Typography>\n        </CardContent>\n      </CardActionArea>\n    </Card>\n  );\n};\n\nexport default CardItem;\n","import { useState, useEffect } from \"react\";\nimport { fetchContentfulSpaceData } from \"../../utils\";\nimport { ListDataResponseProps, ListItem } from \"./\";\n\nexport const useList = (query: string) => {\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const [errorMsg, setErrorMsg] = useState<string>(\"\");\n\n  const [data, setData] = useState<ListItem[]>([]);\n\n  const fetchListData = async (query: string) => {\n    setIsLoading(true);\n    setErrorMsg(\"\");\n    setData([]);\n    try {\n      const res = await fetchContentfulSpaceData(query);\n\n      const { data }: { data: ListDataResponseProps } = await res.json();\n      const {\n        dataset2Collection: { items },\n      } = data;\n      setData(items);\n    } catch (e: unknown) {\n      setErrorMsg((e as Error)?.message);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchListData(query);\n  }, [query]);\n\n  return { isLoading, fetchListData, data, errorMsg };\n};\n","import { useState, useEffect } from \"react\";\nimport { fetchContentfulSpaceData } from \"../../utils\";\nimport { FilterResponseProps, FilterType } from \"./\";\n\nexport const useFilter = (query: string) => {\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const [errorMsg, setErrorMsg] = useState<string>(\"\");\n\n  const [data, setData] = useState<FilterType[]>([]);\n\n  const fetchFilterData = async (query: string) => {\n    setIsLoading(true);\n    setErrorMsg(\"\");\n    setData([]);\n    try {\n      const res = await fetchContentfulSpaceData(query);\n\n      const { data }: { data: FilterResponseProps } = await res.json();\n      const {\n        dataset2Collection: { items },\n      } = data;\n      setData(items);\n    } catch (e: unknown) {\n      setErrorMsg((e as Error)?.message);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchFilterData(query);\n  }, [query]);\n\n  return { isLoading, fetchFilterData, data, errorMsg };\n};\n","export { default as Home } from \"./Home\";\nexport * from \"./Home.types\";\nexport * from \"./Home.hooks\";\n","export { default as Card } from \"./Card\";\nexport * from \"./Card.types\";\n","import { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\n\nimport \"./App.css\";\nimport { Home } from \"./components/Home\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router>\n        <Switch>\n          <Route path=\"/\">\n            <Home />\n          </Route>\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}