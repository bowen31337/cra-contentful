{"version":3,"sources":["App.tsx","reportWebVitals.ts","index.tsx","utils/apis.ts","utils/uniqBy.ts","utils/constants.ts","components/SearchBar/index.ts","components/Card/index.ts","components/Filter/index.ts","components/SearchBar/SearchBar.results.tsx","components/List/index.ts","components/Home/Home.tsx","components/Filter/Filter.tsx","components/List/List.tsx","components/Card/Card.tsx","components/Card/Card.styled.tsx","components/List/List.hooks.ts","components/Filter/Filter.hooks.ts","components/Filter/Filter.styled.tsx","components/SearchBar/SearchBar.tsx","components/SearchBar/SearchBar.hooks.ts","components/SearchBar/SearchBar.styled.tsx","components/Home/index.ts"],"names":["App","className","path","Home","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","fetchContentfulSpaceData","query","fetch","process","method","headers","Authorization","body","JSON","stringify","uniqBy","arr","key","seen","Set","filter","item","k","has","add","CONSTANTS","PAGE_SIZE","constructQuery","page","SearchList","props","useSearch","isLoading","errorMsg","data","search","setPage","useState","results","setResults","useEffect","length","pre","map","id","other","description","title","url","image","onClick","TabPanel","children","value","index","role","hidden","aria-labelledby","sx","p","Filter","React","setValue","useFilter","categories","type","width","bgcolor","onChange","event","newValue","variant","scrollButtons","allowScrollButtonsMobile","aria-label","centered","label","List","useList","fetchListData","CardItem","component","height","alt","gutterBottom","color","CardStyled","styled","div","setIsLoading","setErrorMsg","setData","a","res","json","items","dataset2Collection","message","fetchFilterData","FilterStyled","section","SearchBar","inputRef","useRef","undefined","setQuery","console","log","flexGrow","position","size","edge","mr","onSubmit","e","preventDefault","current","placeholder","inputProps","SearchIconStyled","button","InputBaseStyled","SearchFormStyled","form"],"mappings":"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","file":"static/js/main.80933e34.chunk.js","sourcesContent":["import { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\n\nimport \"./App.css\";\nimport { Home } from \"./components/Home\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router>\n        <Switch>\n          <Route path=\"/\">\n            <Home />\n          </Route>\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","export const fetchContentfulSpaceData = (query: string) =>\n  fetch(\n    `${process.env.REACT_APP_CONTENTFUL_API_URL}content/v1/spaces/${process.env.REACT_APP_CONTENTFUL_API_SPACE_ID}`,\n    {\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${process.env.REACT_APP_CONTENTFUL_API_TOKEN}`,\n      },\n      body: JSON.stringify({ query }),\n    }\n  );\n","export function uniqBy<T extends Object>(\n    arr: T[],\n    key: (item: T) => T[keyof T]\n  ) {\n    const seen = new Set();\n    return arr.filter((item) => {\n      const k = key(item);\n      return seen.has(k) ? false : seen.add(k);\n    });\n  }\n  ","export const CONSTANTS = {\n    PAGE_SIZE: 5\n}","export { default as SearchBar } from \"./SearchBar\";\nexport * from \"./SearchBar.hooks\";\nexport * from \"./SearchBar.styled\";\nexport * from \"./SearchBar.results\";\nexport * from \"./SearchBar.types\";\n","export { default as Card } from \"./Card\";\nexport * from \"./Card.types\";\nexport * from './Card.styled'\n","export { default as Filter } from \"./Filter\";\nexport * from \"./Filter.hooks\";\nexport * from \"./Filter.types\";\nexport * from \"./Filter.styled\";\n","import { useEffect, useState } from \"react\";\nimport { Card } from \"../Card\";\nimport { CONSTANTS } from \"../../utils\";\nimport { SearchListProps, useSearch } from \"./\";\nimport { ListItem } from \"../List\";\nconst constructQuery = (query: string, page: number = 1) => `\n{\n    dataset2Collection(limit: ${CONSTANTS.PAGE_SIZE}, skip: ${\n  (page - 1) * CONSTANTS.PAGE_SIZE\n}, where:{\n      OR: [\n          {description_contains: \"${query}\" },\n          {title_contains: \"${query}\" }\n      ]\n    }) {\n      items{\n        type,\n        title,\n        description,\n        id,\n        image {\n         url\n        }\n      }\n    }\n  }\n`;\n\nconst SearchList = (props: SearchListProps) => {\n  const { query } = props;\n\n  const { isLoading, errorMsg, data, search, page, setPage } = useSearch();\n\n  const [results, setResults] = useState<ListItem[]>(data);\n\n  const loadMore = () => {\n    setPage((pre) => pre + 1);\n  };\n\n  useEffect(() => {\n    search(constructQuery(query, page));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [page]);\n\n  useEffect(() => {\n    setResults([]);\n    search(constructQuery(query, 1));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [query]);\n\n  useEffect(() => {\n    if (data.length > 0) {\n      setResults((pre) => [...pre, ...data]);\n    }\n  }, [data]);\n\n  return (\n    <section className=\"list-wrapper\">\n      <ul>\n        {results.map(({ id, ...other }) => (\n          <li key={id}>\n            <Card\n              description={other.description}\n              id={id}\n              title={other.title}\n              url={\n                other.image\n                  ? other.image.url\n                  : \"http://lorempixel.com/400/200/sports/1/\"\n              }\n            />\n          </li>\n        ))}\n      </ul>\n\n      {isLoading ? (\n        <p>Loading...</p>\n      ) : data.length === 0 ? (\n        <p>no more data found</p>\n      ) : (\n        <button onClick={loadMore}>Load more</button>\n      )}\n      {errorMsg !== \"\" && <p>{errorMsg}</p>}\n    </section>\n  );\n};\n\nexport default SearchList;\n","export { default as List } from \"./List\";\n\nexport * from \"./List.hooks\";\nexport * from \"./List.types\";\n","import { Filter } from \"../Filter\";\nimport { SearchBar } from \"../SearchBar\";\nconst Home = () => {\n  return (\n    <>\n      <SearchBar />\n      <Filter />\n    </>\n  );\n};\nexport default Home;\n","import React from \"react\";\nimport Box from \"@mui/material/Box\";\nimport Tabs from \"@mui/material/Tabs\";\nimport Tab from \"@mui/material/Tab\";\nimport Typography from \"@mui/material/Typography\";\nimport { useFilter, FilterStyled } from \".\";\nimport { List } from \"../List\";\nimport { uniqBy } from \"../../utils\";\n\nfunction TabPanel(props: {\n  [x: string]: any;\n  children: any;\n  value: any;\n  index: any;\n}) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box sx={{ p: 3 }}>\n          <Typography>{children}</Typography>\n        </Box>\n      )}\n    </div>\n  );\n}\n\nconst filterQuery = `\n  {\n      dataset2Collection{\n          items{\n          type\n          }\n      }\n  }`;\n\nconst Filter = () => {\n  const [value, setValue] = React.useState(0);\n\n  const { isLoading, errorMsg, data } = useFilter(filterQuery);\n\n  const handleChange = (event: any, newValue: React.SetStateAction<number>) => {\n    setValue(newValue);\n  };\n\n  if (isLoading) {\n    return <p>Loading...</p>;\n  }\n\n  if (errorMsg !== \"\") {\n    return <p>{errorMsg}</p>;\n  }\n\n  if (data.length === 0) {\n    return <h1>No Data Found.</h1>;\n  }\n\n  const categories = uniqBy(data, (item) => item.type);\n\n  return (\n    <FilterStyled>\n      <Box sx={{ width: \"100%\", bgcolor: \"background.paper\" }}>\n        <Tabs\n          value={value}\n          onChange={handleChange}\n          variant=\"scrollable\"\n          scrollButtons\n          allowScrollButtonsMobile\n          aria-label=\"scrollable filter tabs\"\n          centered\n        >\n          {categories.map(({ type, id }) => (\n            <Tab label={type} key={id} />\n          ))}\n        </Tabs>\n\n        {categories.map(({ type, id }, index) => (\n          <TabPanel value={value} index={index} key={id}>\n            <List type={type} />\n          </TabPanel>\n        ))}\n      </Box>\n    </FilterStyled>\n  );\n};\n\nexport default Filter;\n","import { useList, ListProps, ListItem } from \".\";\nimport { Card } from \"../Card\";\nimport \"./List.styles.css\";\nimport { CONSTANTS } from \"../../utils\";\nimport { useEffect, useState } from \"react\";\n\nconst constructQuery = (type: string, page: number = 1) => `\n{\n    dataset2Collection(limit: ${CONSTANTS.PAGE_SIZE}, skip: ${\n  (page - 1) * CONSTANTS.PAGE_SIZE\n}, where:{\n      type: \"${type}\"\n    }) {\n      items{\n        type,\n        title,\n        description,\n        id,\n        image {\n         url\n        }\n      }\n    }\n  }\n`;\n\nconst List = (props: ListProps) => {\n  const { type } = props;\n\n  const { isLoading, errorMsg, data, fetchListData, page, setPage } = useList();\n\n  const [results, setResults] = useState<ListItem[]>(data);\n\n  const loadMore = () => {\n    setPage((pre) => pre + 1);\n  };\n\n  useEffect(() => {\n    fetchListData(constructQuery(type, page));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [page]);\n\n  useEffect(() => {\n    if (data.length > 0) {\n      setResults((pre) => [...pre, ...data]);\n    }\n  }, [data]);\n\n  return (\n    <section className=\"list-wrapper\">\n      <ul>\n        {results.map(({ id, ...other }) => (\n          <li key={id}>\n            <Card\n              description={other.description}\n              id={id}\n              title={other.title}\n              url={\n                other.image\n                  ? other.image.url\n                  : \"http://lorempixel.com/400/200/sports/1/\"\n              }\n            />\n          </li>\n        ))}\n      </ul>\n\n      {isLoading ? (\n        <p>Loading...</p>\n      ) : data.length === 0 ? (\n        <p>no more data found</p>\n      ) : (\n        <button onClick={loadMore}>Load more</button>\n      )}\n      {errorMsg !== \"\" && <p>{errorMsg}</p>}\n    </section>\n  );\n};\n\nexport default List;\n","import Card from \"@mui/material/Card\";\nimport CardContent from \"@mui/material/CardContent\";\nimport CardMedia from \"@mui/material/CardMedia\";\nimport Typography from \"@mui/material/Typography\";\nimport { CardActionArea } from \"@mui/material\";\nimport { CardProps, CardStyled } from \"./\";\n\nconst CardItem = (props: CardProps) => {\n  const { id, url, title, description } = props;\n\n  return (\n    <CardStyled>\n      <Card id={id}>\n        <CardActionArea>\n          <CardMedia component=\"img\" height=\"140\" image={url} alt={title} />\n          <CardContent>\n            <Typography gutterBottom variant=\"h5\" component=\"div\">\n              {title}\n            </Typography>\n            <Typography variant=\"body2\" color=\"text.secondary\">\n              {description}\n            </Typography>\n          </CardContent>\n        </CardActionArea>\n      </Card>\n    </CardStyled>\n  );\n};\n\nexport default CardItem;\n","import  styled  from 'styled-components'\n\n\n\nexport  const CardStyled = styled.div`\n    border: 1px solid green;\n`","import { useState } from \"react\";\nimport { fetchContentfulSpaceData } from \"../../utils\";\nimport { ListDataResponseProps, ListItem } from \"./\";\n\nexport const useList = () => {\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const [errorMsg, setErrorMsg] = useState<string>(\"\");\n  const [page, setPage] = useState<number>(1);\n\n  const [data, setData] = useState<ListItem[]>([]);\n\n  \n\n  const fetchListData = async (query: string) => {\n    setIsLoading(true);\n    setErrorMsg(\"\");\n    setData([]);\n    try {\n      const res = await fetchContentfulSpaceData(query);\n\n      const { data }: { data: ListDataResponseProps } = await res.json();\n      const {\n        dataset2Collection: { items },\n      } = data;\n      setData(items);\n    } catch (e: unknown) {\n      setErrorMsg((e as Error)?.message);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return { isLoading, fetchListData, data, errorMsg, page, setPage };\n};\n","import { useState, useEffect } from \"react\";\nimport { fetchContentfulSpaceData } from \"../../utils\";\nimport { FilterResponseProps, FilterType } from \"./\";\n\nexport const useFilter = (query: string) => {\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const [errorMsg, setErrorMsg] = useState<string>(\"\");\n\n  const [data, setData] = useState<FilterType[]>([]);\n\n  const fetchFilterData = async (query: string) => {\n    setIsLoading(true);\n    setErrorMsg(\"\");\n    setData([]);\n    try {\n      const res = await fetchContentfulSpaceData(query);\n\n      const { data }: { data: FilterResponseProps } = await res.json();\n      const {\n        dataset2Collection: { items },\n      } = data;\n      setData(items);\n    } catch (e: unknown) {\n      setErrorMsg((e as Error)?.message);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchFilterData(query);\n  }, [query]);\n\n  return { isLoading, fetchFilterData, data, errorMsg };\n};\n","import styled from \"styled-components\";\n\nexport const FilterStyled = styled.section`\n  border-top: 1px solid #333;\n`;\n","import React, { useEffect, useRef, useState } from \"react\";\nimport AppBar from \"@mui/material/AppBar\";\nimport Box from \"@mui/material/Box\";\nimport Toolbar from \"@mui/material/Toolbar\";\nimport IconButton from \"@mui/material/IconButton\";\nimport InputBase from \"@mui/material/InputBase\";\nimport MenuIcon from \"@mui/icons-material/Menu\";\nimport SearchIcon from \"@mui/icons-material/Search\";\nimport { SearchIconStyled, InputBaseStyled, SearchFormStyled } from \".\";\nimport SearchList from \"./SearchBar.results\";\n\nconst SearchBar = () => {\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  const [query, setQuery] = useState<string | undefined>(undefined);\n\n  const submitHandler = (e: React.ChangeEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    inputRef.current && setQuery(inputRef.current?.value);\n  };\n\n  console.log(query);\n  return (\n    <>\n      <Box sx={{ flexGrow: 1 }}>\n        <AppBar position=\"static\">\n          <Toolbar>\n            <IconButton\n              size=\"large\"\n              edge=\"start\"\n              color=\"inherit\"\n              aria-label=\"open drawer\"\n              sx={{ mr: 2 }}\n            >\n              <MenuIcon />\n            </IconButton>\n\n            <SearchFormStyled onSubmit={submitHandler}>\n              <SearchIconStyled type=\"submit\">\n                <SearchIcon />\n              </SearchIconStyled>\n              <InputBaseStyled>\n                <InputBase\n                  placeholder=\"Search…\"\n                  inputProps={{ \"aria-label\": \"search\" }}\n                  inputRef={inputRef}\n                />\n              </InputBaseStyled>\n            </SearchFormStyled>\n          </Toolbar>\n        </AppBar>\n      </Box>\n      {query && <SearchList query={query} />}\n    </>\n  );\n};\nexport default SearchBar;\n","import { useState } from \"react\";\nimport { fetchContentfulSpaceData } from \"../../utils\";\nimport { ListDataResponseProps, ListItem } from \"../List\";\n\nexport const useSearch = () => {\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const [errorMsg, setErrorMsg] = useState<string>(\"\");\n  const [page, setPage] = useState<number>(1);\n\n  const [data, setData] = useState<ListItem[]>([]);\n\n  const search = async (query: string) => {\n    setIsLoading(true);\n    setErrorMsg(\"\");\n    setData([]);\n    try {\n      const res = await fetchContentfulSpaceData(query);\n\n      const { data }: { data: ListDataResponseProps } = await res.json();\n      const {\n        dataset2Collection: { items },\n      } = data;\n      setData(items);\n    } catch (e: unknown) {\n      setErrorMsg((e as Error)?.message);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return { isLoading, search, data, errorMsg, page, setPage };\n};\n","import styled from \"styled-components\";\n\nexport const SearchIconStyled = styled.button`\n  padding: 0 16px;\n  height: 100%;\n  position: absolute;\n  pointer-events: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: transparent;\n  border: none;\n  color: white;\n`;\n\nexport const InputBaseStyled = styled.div`\n  & .MuiInputBase-input {\n    color: inherit;\n    padding: 8px;\n    padding-left: 48px;\n    transition: width 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\n    width: 100%;\n    @media (min-width: 768px) {\n      width: 200px;\n      &:focus {\n        width: 300px;\n      }\n    }\n  }\n`;\n\n\nexport const SearchFormStyled = styled.form`\n    position: relative;\n    borderRadius: 2px;\n    background-color: #1976d2;\n    margin-left: 0;\n    background-color: rgba(255, 255, 255, 0.15);\n  `","export { default as Home } from \"./Home\";\nexport * from \"./Home.types\";\nexport * from \"./Home.hooks\";\n"],"sourceRoot":""}